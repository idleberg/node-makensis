sudo: true
os:
- linux
- osx
before_install:
- if [[ $TRAVIS_OS_NAME == 'linux' ]]; then sh -c "$(curl -fsSL https://raw.githubusercontent.com/Linuxbrew/install/master/install.sh)"; fi
- if [[ $TRAVIS_OS_NAME == 'linux' ]]; test -d ~/.linuxbrew && PATH="$HOME/.linuxbrew/bin:$HOME/.linuxbrew/sbin:$PATH"; fi
- if [[ $TRAVIS_OS_NAME == 'linux' ]]; test -d /home/linuxbrew/.linuxbrew && PATH="/home/linuxbrew/.linuxbrew/bin:/home/linuxbrew/.linuxbrew/sbin:$PATH"; fi
- if [[ $TRAVIS_OS_NAME == 'linux' ]]; test -r ~/.bash_profile && echo "export PATH='$(brew --prefix)/bin:$(brew --prefix)/sbin'":'"$PATH"' >>~/.bash_profile; fi
- if [[ $TRAVIS_OS_NAME == 'linux' ]]; echo "export PATH='$(brew --prefix)/bin:$(brew --prefix)/sbin'":'"$PATH"' >>~/.profile; fi
- if [[ $TRAVIS_OS_NAME == 'linux' ]]; brew install makensis; fi
- if [[ $TRAVIS_OS_NAME == 'osx' ]]; then brew update && brew install nsis; fi
language: node_js
node_js:
- "node"
- "lts/*"
git:
  depth: 1
branches:
  only:
  - master
cache:
  timeout: 1800
  yarn: true
  directories:
  - node_modules
env:
- CXX=g++-4.8
addons:
  apt:
    sources:
    - ubuntu-toolchain-r-test
    packages:
    - g++-4.8
notifications:
  email: false
