sudo: true
os:
- linux
- osx
before_install:
- if [[ $TRAVIS_OS_NAME == 'linux' ]]; then sudo apt-add-repository -y ppa:brightbox/ruby-ng; fi
- if [[ $TRAVIS_OS_NAME == 'linux' ]]; then sudo apt-get update; fi
- if [[ $TRAVIS_OS_NAME == 'linux' ]]; then sudo apt-get install ruby2.4 ruby2.4-dev; fi
- if [[ $TRAVIS_OS_NAME == 'linux' ]]; then ruby -e "$(curl -fsSL https://raw.githubusercontent.com/Linuxbrew/brew/go/install)"; fi
- if [[ $TRAVIS_OS_NAME == 'linux' ]]; then test -d ~/.brew && PATH="$HOME/.brew/bin:$HOME/.brew/sbin:$PATH"; fi
- if [[ $TRAVIS_OS_NAME == 'linux' ]]; then test -d /home/brew/.brew && PATH="/home/brew/.brew/bin:/home/brew/.brew/sbin:$PATH"; fi
- if [[ $TRAVIS_OS_NAME == 'linux' ]]; then test -r ~/.bash_profile && echo "export PATH='$(brew --prefix)/bin:$(brew --prefix)/sbin'":'"$PATH"' >>~/.bash_profile; fi
- if [[ $TRAVIS_OS_NAME == 'linux' ]]; then echo "export PATH='$(brew --prefix)/bin:$(brew --prefix)/sbin'":'"$PATH"' >>~/.profile; fi
- if [[ $TRAVIS_OS_NAME == 'linux' ]]; then brew --version; fi
- if [[ $TRAVIS_OS_NAME == 'osx' ]]; then brew update && brew install nsis; fi
language: node_js
node_js:
- "node"
- "lts/*"
git:
  depth: 1
branches:
  only:
  - master
cache:
  timeout: 1800
  yarn: true
  directories:
  - node_modules
env:
- CXX=g++-4.8
addons:
  apt:
    sources:
    - ubuntu-toolchain-r-test
    packages:
    - g++-4.8
notifications:
  email: false
